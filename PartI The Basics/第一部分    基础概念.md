# 第一部分    基础概念

这一部分介绍了 C++ 模板的基本概念和语言特性。首先将展示一些函数模板和类模板的例子，来讨论模板的一般目标和概念；接着介绍一些其它的基础模板特性，例如非类型模板参数（nontype template parameters），可变参数模板（variadic templates），`typename` 关键字，以及成员模板（member templates）。我们也会讨论如何处理移动语义，如何声明参数，以及如何使用泛型代码实现编译期编程。这一部分的最后是一些关于术语和模板的使用的一些一般性建议，提供给应用程序开发者和通用库的作者。

### 为什么使用模板？

C++ 要求我们使用特定的类型声明变量、函数和其它大多数实体。但是，对于不同的类型，有很多代码看上去是相同的。例如，对于不同的数据结构，快速排序算法的实现在结构上相同，不管是包含 `int` 的数组还是包含字符串的 `vector`，只要保存的类型能互相比较。

如果你学习的编程语言没有为这样的泛型提供语言特性，那么你只有下面几种不好的选择：

1. 对于需要的每一个类型，重复地实现相同的行为；
2. 为共同的基类编写通用的代码，如 `Object` 或 `void*`；
3. 使用特殊的预处理器。

如果你曾使用其它语言，你可能已经使用过上面的几种或全部方法了。但是，这些方法都有各自的弊病：

1. 重复实现一个行为是在重复造轮子。你会犯同样的错误，而避免使用复杂但更好的算法，因为这些算法可能导致更多的错误；
2. 如果你为共同的基类编写通用的代码，你就会失去类型检查的好处。而且，一些类需要从特殊的基类派生，这会导致你的代码难以维护；
3. 特殊的预处理器会使用“愚蠢的文本替换机制”替换你的代码，而不管作用域和类型，这可能会导致奇怪的语义错误。

模板提供了问题的解决方案，而且没有上述的缺陷。模板就是为一个或多个不确定的类型编写的函数或类。使用模板时，需要将类型作为参数显式或隐式地传递给它们。而且由于模板是一种语言特性，类型检查和作用域将会被完整支持。

模板在如今的程序中被大量使用。例如，C++ 标准库中几乎所有的代码都使用了模板。标准库提供了为特定类型的对象或值排序的算法、管理特定类型的元素的数据结构（也叫容器类）、字符串（其中字符的类型是参数化的）等等。然而，这只是开始。模板也能使我们参数化某一行为、优化代码、参数化信息。这些应用会在后面的章节中覆盖。现在，让我们先从一些简单的模板开始。

