### 10.4    单一定义规则

C++ 语言定义对各种实体的重声明施加了一些限制。这些约束总称为*单一定义规则*（one-definition rule）或 *ODR*。这一规则的细节有点复杂，而且覆盖了各种各样的情况。后面的章节解释了在每个应用上下文中产生的各种结果，并且你也可以在附录 A 中找到 ODR 的完整描述。现在，只要记住下面的 ODR 的基础知识就够了：

+ 普通的（即非模板）非内联函数的成员函数，以及（非内联）全局变量和静态数据成员在整个*程序*（program）中只能定义一次。[^3]
+ 类类型（包括结构体和联合体）、模板（包括部分特化，但不包括全特化），以及内联函数和内联变量，在每个*翻译单元*（translation unit）中最多被定义一次，而且这些定义都必须相同。

[^3]:从 C++17 起，全局和静态变量和数据成员可以被定义为 `inline`。这移除了它们只能定义在一个翻译单元中的要求。

*翻译单元*（translation unit）是预处理一个源文件的结果；也就是说，它包括由 `#include` 指令提及的内容，以及由宏扩展产生的内容。

在本书的后续内容中，*可链接实体*（linkable entity）指以下的任何一个：函数或成员函数，全局变量或静态数据成员，并包括从模板生成的任何此类内容，它们对链接器可见。